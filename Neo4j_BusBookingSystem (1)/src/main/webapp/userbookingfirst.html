<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="/js/jquery-3.6.0.min.js"></script>
    <script src="/js/knockout-3.5.1.js"></script>
    <link rel="stylesheet" href="/resources/css/userbookingfirst.css">
    <title>User Booking Page</title>   
    <style>
body {
  background-image: url('/resources/img/busimg.jpeg');
  background-repeat: no-repeat;
  background-attachment: fixed;  
  background-size: cover;
}
</style>
  </head>
  <body>
    <div class="header">
        <a href="userHome">Home</a>
        <a href="#theatre">Theatre</a>
        <a href="#showmovies">Movies</a>
        <a href="userbook">Booking</a>
        <a href="#contact">Contact</a>
        <div class="leftout"> <a href="logout">Logout</a></div>
    </div>
    <div class="middel">
    <form>
        
        <div class="mb-3">
          <label for="name" class="form-label">Name</label>
          <input type="text" class="form-control" id="name" aria-describedby="emailHelp">
          
        </div>
        <div class="mb-3">
          <label for="mobilenumber" class="form-label">Mobile Number</label>
          <input type="number" class="form-control" id="mobilenumber">
        </div>
        <label for="cars">Choose a Movie:</label>
  <select id="movies" name="movies">
    <option value="Radhe">Radhe</option>
    <option value="Wanted">Wanted</option>
    <option value="Veer">Veer</option>
    <option value="300">300</option>
  </select>  <br> <br>
  <div class="form-group required">
    <label for="seats">Number Of Seats:</label>
    <input type="number" id='seats' class="form-control" placeholder="3" required="required"/>
</div>
<div class="text-center">
    <button type="button" class="btn btn-primary btn-lg submitBtn" id="submitSelection">Start Selecting</button>
</div>
<div class="text-center">
    <font color="Red"><label class="error"></label></font>
</div>

</form>
<div class="screen-ui">
<div id="screen">
    <font color="white">SCREEN</font>		
</div>

<table class="table" id="table-screen">
    <thead id="screen-head">
        <tr>
            <script type="text/template" id='table-screen-header'>
                   <% _.each(_.range(0,columns+1),function(item){ %>
                       <% if(item==0) {%>
                        <th></th>
                    <% } else {%>
                        <th><%= item %></th>
                    <% } %>
                <% }) %>
            </script>
        </tr>
    </thead>
    <tbody id="screen-body">
        <script type="text/template" id='table-screen-body'>
            <% _.each(rows,function(row){ %>
                <tr id='table-screen-row'>
                    <td><%=row%></td>
                    <% _.each(_.range(1,columns+1),function(column){ %>
                        <% var id=(_.indexOf(rows,row)*columns)+column; var reservedSeats=JSON.parse(localStorage.getItem('ReservedSeats')); if(reservedSeats!=null && _.indexOf(reservedSeats,String(id))!=-1) {%>
                            <td><img src="img/reserved-seat.png" class="reserved-seat" id="<%=id%>"/></td>
                        <% }else {%>
                            <td><img src="img/empty-seat.png" class="empty-seat" id="<%=id%>"/></td>		       
                        <% }}) %>
                </tr>
            <% }) %>
        </script>	
    </tbody>
</table>

<div class="text-center">
    <button type="button" class="btn btn-primary btn-lg submitBtn" id="confirmSelection">Confirm Selection</button>
    <div class="screen-map">
    <label for="empty-seat-map">Selected Seat</label>
    <img src="img/booked-seat.png" class="booked-seat-map" id="booked-seat-map">
    <br/>
    <label for="">Reserved Seat</label>
    <img src="img/reserved-seat.png" class="reserved-seat-map" id="reserved-seat-map">
    <br/>
    <label for="">Empty Seat</label>
    <img src="img/empty-seat.png" class="empty-seat-map" id="empty-seat-map">
</div>	
</div>
        
</div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>          
    </div>
    <div class="footer"><h4>All Right Reserved 2021 @Moviemania</h4></div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
  </body>
</html>
